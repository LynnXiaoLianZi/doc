


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Punch Indentation of a Bonded Material &#8212; UDEC 7.0 documentation</title>
    
    <link rel="stylesheet" href="../../../../../_static/itasca.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css"/>
    
    <!-- icg: hide sidebar on load as needed -->
    <script type="text/javascript">
    (function () {
    if (window.innerWidth <= 720){
       document.write('<link rel="stylesheet" href="../../../../../_static/icg_shutsidebar.css" type="text/css" />')
       }
    }());
    </script>
    
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../../_static/MathJax/MathJax.js?config=TeX-AMS_SVG"></script>
    <link rel="shortcut icon" href="../../../../../_static/ICG15-ICN-UDEC.ico"/>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <!--<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:normal,bold,bolditalic,italic" rel="stylesheet">-->
    <link href="https://fonts.googleapis.com/css?family=Lato:normal,bold,bolditalic,italic" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:normal,bold" rel="stylesheet"> 
  </head>
  <body>
<div id = "main">
   <div id="maintop">
   <a id="cornerlink" href="../../../../../contents.html"><img id="cornerlogo" src="../../../../../_static/udec32.png" alt="Logo"/>&nbsp;&nbsp;<span class="codename" id="cornercodename"></span></a>

<div id="searchbox" role="search">
    <form class="search" action="../../../../../search.html" method="get">
      <div><input type="text" id="sb" name="q" /></div>
      <!--<div><input type="submit" value="Go" /></div>-->
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
   </div>
   
   <div id="maincontent">
   <div id="mainbody" role="main">
   
  <div class="section" id="punch-indentation-of-a-bonded-material">
<span id="punchindentation"></span><h1>Punch Indentation of a Bonded Material</h1>
<p class="h2 rubric">Problem Statement</p>
<div class="aside admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To view this project, use the menu command <span class="menuselection">Help ► Examples…</span>.  Choose “Example Applications/PunchIndentation” and select “PunchIndentation.prj” to load.
The <a class="reference internal" href="#punchdata"><span class="std std-ref">main data files</span></a> used are shown at the end of this example.  The remaining data files can be found in the project.</p>
</div>
<p>This example demonstrates the indentation response of a bonded-particle model (BPM) when compressed by
a rounded punch. A model of this nature could be investigated using <span class="codename">PFC</span> with: 1) a relatively large
assembly of <span class="codename">PFC</span> balls to ensure a realistic response of the material away from the site of the
indentation and 2) <span class="codename">PFC</span> walls representing the body of the punch. Such an approach would be rather
computationally expensive due to the number of balls required outside of the punch indentation region.
In addition, punch stresses/deformation could not be assessed in <span class="codename">PFC</span> as walls act only as rigid
boundaries.</p>
<p><a href="#punch-problem">Figure  1</a> shows the model geometry. A region of zones are nulled and a BPM is
created inside this region. Though the BPM region is small and the balls are rather large, this example
effectively demonstrates the mechanics of coupling <span class="codename">PFC</span> and <span class="codename">FLAC3D</span> models. As described in detail in the
<a class="reference internal" href="../../../../../common/docproject/source/manual/coupling/schemes/wallzone/wallzone.html#wallzone"><span class="std std-ref">Wall-Zone Coupling Scheme</span></a> section, <span class="codename">PFC</span> walls are slaved to surface zones. <a href="#punch-walls">Figure  2</a>
shows the <span class="codename">PFC</span> walls and the model domain in which all <span class="codename">PFC</span> model components exist. Contacts exist
between <span class="codename">PFC</span> balls and wall facets; the contact forces and moments at each ball-facet contact are
used to determine an equivalent force system to apply to the corresponding zone gridpoints.</p>
<div class="figure align-center" id="id1">
<span id="punch-problem"></span><a class="reference internal image-reference" href="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-initial-geom-with-punch.png"><img alt="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-initial-geom-with-punch.png" src="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-initial-geom-with-punch.png" style="width: 85%;" /></a>
<p class="caption"><span class="caption-text">Figure 1: Geometry of <span class="codename">PFC</span> balls and <span class="codename">FLAC3D</span> zones once the BPM has been created in the zone cavity.</span></p>
</div>
<div class="figure align-center" id="id2">
<span id="punch-walls"></span><a class="reference internal image-reference" href="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-initial-walls.png"><img alt="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-initial-walls.png" src="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-initial-walls.png" style="width: 85%;" /></a>
<p class="caption"><span class="caption-text">Figure 2: <span class="codename">PFC</span> walls created with the <a class="reference internal" href="../../../../../common/docproject/source/manual/coupling/schemes/wallzone/commands/wallzone/cmd_wallzone.create.html#command:wall-zone.create" title="Wrap |flac3d| zones with |pfc| walls. |pfc| walls are, by definition, edge-connected&#013;&#010;sets of triangular facets without any non-manifold conditions (i.e., facets&#013;&#010;penetrating one another, multiple facets sharing one edge, etc). The provided&#013;&#010; range  is applied to |flac3d| zones, filtering the zones that are considered&#013;&#010;for wrapping. Only zone faces that are considered surfaces are wrapped by wall&#013;&#010;facets by default. In this context, a surface is either an exterior zone face&#013;&#010;(i.e., a face"><code class="xref fish fish-cmd docutils literal"><span class="pre">wall-zone</span> <span class="pre">create</span></code></a> command.</span></p>
</div>
<p class="h2 rubric">Coupled <span class="codename">PFC</span>-<span class="codename">FLAC3D</span> Model</p>
<p>Prior to creating a coupled <span class="codename">PFC</span>-<span class="codename">FLAC3D</span> model, one must load the <span class="codename">PFC</span> modules. These are the
DLLs that contain the code responsible for instantiating all <span class="codename">PFC</span> related model components. In
addition, a set of modules exist to couple <span class="codename">PFC</span> walls with <span class="codename">FLAC3D</span> zones and shell-based structural
elements. By default these modules are not loaded when the <span class="codename">FLAC3D</span> application is opened. One may
either load these modules via the <span class="menuselection">Tools ► Load PFC</span> menu item or with the
following commands:</p>
<div class="highlight-fish"><div class="highlight"><pre><span></span><span class="nb">program load</span><span class="n"> module </span><span class="s">&#39;contact&#39;</span>
<span class="nb">program load</span><span class="n"> module </span><span class="s">&#39;pfc&#39;</span>
<span class="nb">program load</span><span class="n"> guimodule </span><span class="s">&#39;pfc&#39;</span>
<span class="nb">program load</span><span class="n"> module </span><span class="s">&#39;pfcthermal&#39;</span>
<span class="nb">program load</span><span class="n"> guimodule </span><span class="s">&#39;pfcthermal&#39;</span>
<span class="nb">program load</span><span class="n"> module </span><span class="s">&#39;ccfd&#39;</span>
<span class="nb">program load</span><span class="n"> guimodule </span><span class="s">&#39;ccfd&#39;</span>
<span class="nb">program load</span><span class="n"> module </span><span class="s">&#39;wallsel&#39;</span>
<span class="nb">program load</span><span class="n"> module </span><span class="s">&#39;wallzone&#39;</span>
</pre></div>
</div>
<p>Once a project has been saved with any additional modules loaded, these modules will be loaded
whenever the project is opened once again. Note that the additional modules remain loaded until the
<span class="codename">FLAC3D</span> application is closed.</p>
<p><span class="codename">PFC</span> balls are created within the region of nulled <span class="codename">FLAC3D</span> zones. In order to create the same initial
cloud of balls each time the data files are run, the <a class="reference internal" href="../../../../../common/kernel/doc/manual/model/commands/cmd_model.random.html#command:model.random" title="Set the seed for the random-number generator. By default  i  =  10,000 .&#013;&#010;The"><code class="xref fish fish-cmd docutils literal"><span class="pre">model</span> <span class="pre">random</span></code></a> command is used to initialize
the random seed to a specified value. Changing the random seed will result in a different realization of
balls, though statistically, the realizations will be the same. Unlike zones and structural elements,
all <span class="codename">PFC</span> model components (i.e., balls, clumps, walls and contacts) can only exist within a user-specified
model domain (see the <a class="reference internal" href="../../../../../common/kernel/doc/manual/model/commands/cmd_model.domain.html#command:model.domain" title="Specify the DFN domain boundaries and conditions.  DFN fractures only exist&#013;&#010;within the domain extent."><code class="xref fish fish-cmd docutils literal"><span class="pre">model</span> <span class="pre">domain</span></code></a> command). This restriction allows for contact detection and
spatial searching to be simplified and optimized. As <span class="codename">PFC</span> always operates in large-strain mode, one
must explicitly activate large-strain mode for zones and structural elements (see the
<a class="reference internal" href="../../../../../common/kernel/doc/manual/model/commands/cmd_model.largestrain.html#command:model.large-strain" title="Sets the program to use the numerical formulation for large-strain deformation.&#013;&#010; The default is  on ."><code class="xref fish fish-cmd docutils literal"><span class="pre">model</span> <span class="pre">large-strain</span></code></a> command). <span class="codename">PFC</span>, by default, solves the dynamic equations of motion using the
real inertia properties of balls and clumps. In this model, we desire to operate with timestep scaling
in <span class="codename">PFC</span> (see the <code class="xref fish fish-cmd docutils literal"><span class="pre">model</span> <span class="pre">mechanical</span></code> command), an approach which is similar to the default <span class="codename">FLAC3D</span>
behavior.</p>
<p>With these preliminary steps complete, we dive into creating the initial model.</p>
<div class="highlight-fish"><div class="highlight"><pre><span></span><span class="c">;create a bed of zones for the balls to sit inside</span>
<span class="nb">zone create</span><span class="n"> brick size </span><span class="m m-Double">35</span><span class="n"> </span><span class="m m-Double">35</span><span class="n"> </span><span class="m m-Double">35</span><span class="n"> point </span><span class="m m-Double">0</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4.5</span><span class="n"> point </span><span class="m m-Double">1</span><span class="n"> </span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4.5</span><span class="n"> </span><span class="sx">...</span>
<span class="n">                                point </span><span class="m m-Double">2</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4.5</span><span class="n"> point </span><span class="m m-Double">3</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1</span><span class="n"> group </span><span class="s">&#39;bed&#39;</span>
<span class="nb">zone cmodel</span><span class="n"> assign elastic</span>
<span class="nb">zone property</span><span class="n"> young </span><span class="ni">[materialMod]</span><span class="n"> poisson </span><span class="m m-Double">0.25</span>
<span class="nb">zone cmodel</span><span class="n"> null </span><span class="sx">...</span>
<span class="n">            range position</span><span class="o">-</span><span class="n">x </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="m m-Double">1.5</span><span class="n"> position</span><span class="o">-</span><span class="n">y </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="m m-Double">1.5</span><span class="n"> position</span><span class="o">-</span><span class="n">z </span><span class="o">-</span><span class="m m-Double">2</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1</span>
<span class="c">;as the balls are packing into this region - </span>
<span class="c">;fix the gridpoint motions as the balls are settling</span>
<span class="nb">zone gridpoint fix</span><span class="n"> velocity</span>

<span class="c">;wrap the bed with walls</span>
<span class="nb">wall-zone create</span><span class="n"> name </span><span class="s">&#39;bed&#39;</span><span class="n"> starting</span><span class="o">-</span><span class="n">zone </span><span class="m m-Double">30013</span>
<span class="c">;create a wall over the top </span>
<span class="nb">wall generate</span><span class="n"> name </span><span class="s">&#39;top&#39;</span><span class="n"> plane position </span><span class="m m-Double">0</span><span class="n"> </span><span class="m m-Double">0</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1</span><span class="n"> </span>

<span class="c">;create a cloud of balls that are arbitrarily overlapping  </span>
<span class="nb">ball distribute</span><span class="n"> porosity </span><span class="m m-Double">0.4</span><span class="n"> box </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="m m-Double">1.5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="m m-Double">1.5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">2</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1</span><span class="n"> radius </span><span class="m m-Double">0.04</span><span class="n"> </span><span class="m m-Double">0.06</span>

<span class="c">;set the ball density and local damping coefficient</span>
<span class="nb">ball attribute</span><span class="n"> density </span><span class="m m-Double">2600</span><span class="n"> damp </span><span class="m m-Double">0.7</span>
<span class="c">;set the default contact behavior - </span>
<span class="c">;the deformability method sets properties of the linear portion </span>
<span class="c">;of the contact model</span>
<span class="nb">contact cmat default</span><span class="n"> model linearpbond method deformability </span><span class="sx">...</span>
<span class="n">                   emod </span><span class="ni">[materialMod]</span><span class="n"> kratio </span><span class="m m-Double">1.0</span><span class="n"> </span>
<span class="c">;allow the balls to rearrange, nulling the linear </span>
<span class="c">;and angular velocities every 100 cycles</span>
<span class="nb">model </span><span class="ss">cycle</span><span class="n"> </span><span class="m m-Double">1000</span><span class="n"> calm </span><span class="m m-Double">100</span>
<span class="c">;delete any balls that flew out of the bed</span>
<span class="nb">ball delete</span><span class="n"> range position </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">2</span><span class="n">  </span><span class="m m-Double">1.5</span><span class="n"> </span><span class="m m-Double">1.5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1</span><span class="n"> not</span>
</pre></div>
</div>
<p>The <code class="xref fish fish-cmd docutils literal"><span class="pre">zone</span> <span class="pre">create</span></code> command is used to create a simple bed of zones and the region that the BPM will
occupy is nulled. Since the balls will be created with arbitrary overlap, all gridpoint velocities
are fixed while the balls rearrange. The <a class="reference internal" href="../../../../../common/docproject/source/manual/coupling/schemes/wallzone/commands/wallzone/cmd_wallzone.create.html#command:wall-zone.create" title="Wrap |flac3d| zones with |pfc| walls. |pfc| walls are, by definition, edge-connected&#013;&#010;sets of triangular facets without any non-manifold conditions (i.e., facets&#013;&#010;penetrating one another, multiple facets sharing one edge, etc). The provided&#013;&#010; range  is applied to |flac3d| zones, filtering the zones that are considered&#013;&#010;for wrapping. Only zone faces that are considered surfaces are wrapped by wall&#013;&#010;facets by default. In this context, a surface is either an exterior zone face&#013;&#010;(i.e., a face"><code class="xref fish fish-cmd docutils literal"><span class="pre">wall-zone</span> <span class="pre">create</span></code></a> command is used to wrap wall facets
around surface zone faces. As seen in <a href="#punch-walls">Figure  2</a>, the walls do not extend beyond the
model domain. An additional wall is created with the <code class="xref fish fish-cmd docutils literal"><span class="pre">wall</span> <span class="pre">generate</span></code> command to enclose the
cavity.</p>
<p><span class="codename">PFC</span> balls and clumps can either be created without initial overlap or with arbitrary initial overlap.
In this case, the <code class="xref fish fish-cmd docutils literal"><span class="pre">ball</span> <span class="pre">distribute</span></code> command is used to create a cloud of balls with arbitrary
overlaps to a specified volume fraction within a parallelepiped volume. Ball attributes are then assigned
and the <code class="xref fish fish-cmd docutils literal"><span class="pre">contact</span> <span class="pre">cmat</span></code> command is used to specify the contact model behavior. With these steps taken
the balls can be allowed to rearrange. The <span class="cmdkey">calm</span> keyword in the <code class="xref fish fish-cmd docutils literal"><span class="pre">model</span> <span class="pre">cycle</span></code> command is
used to periodically remove all kinetic energy from the system. Finally, all balls that have escaped
the generation region are deleted.</p>
<p>At this point the granular material is converted to a BPM.</p>
<div class="highlight-fish"><div class="highlight"><pre><span></span><span class="c">;bond the balls together with the specified gap</span>
<span class="nb">contact method</span><span class="n"> bond gap </span><span class="m m-Double">2.0e-3</span>
<span class="c">;set the parallel bond properties from the pb_deform method</span>
<span class="nb">contact method</span><span class="n"> pb_deform emod </span><span class="ni">[materialMod]</span><span class="n"> kratio </span><span class="m m-Double">1.0</span>
<span class="c">;remove the linear portion of the contact properties</span>
<span class="c">;and set the contact strength</span>
<span class="c">;this will be a relatively weak material</span>
<span class="nb">contact property</span><span class="n"> lin_mode </span><span class="m m-Double">1</span><span class="n"> pb_ten </span><span class="m m-Double">2e4</span><span class="n"> pb_coh </span><span class="m m-Double">2e5</span><span class="n"> </span><span class="sx">...</span>
<span class="n">        range contact type </span><span class="s">&#39;ball-ball&#39;</span>
<span class="c">;set the ball-facet contact strength to be very high</span>
<span class="nb">contact property</span><span class="n"> lin_mode </span><span class="m m-Double">1</span><span class="n"> pb_ten </span><span class="m m-Double">1e100</span><span class="n"> pb_coh </span><span class="m m-Double">1e100</span><span class="n"> </span><span class="sx">...</span>
<span class="n">        range contact type </span><span class="s">&#39;ball-facet&#39;</span>
<span class="c">;remove the box</span>
<span class="nb">wall delete</span><span class="n"> wall range name </span><span class="s">&#39;top&#39;</span>
<span class="c">;set the default behavior for new ball-ball and ball-facet contacts</span>
<span class="nb">contact cmat default</span><span class="n"> model linear type ball</span><span class="o">-</span><span class="n">ball method deformability </span><span class="sx">...</span>
<span class="n">                   emod </span><span class="ni">[materialMod]</span><span class="n"> kratio </span><span class="m m-Double">1.0</span><span class="n"> property fric </span><span class="m m-Double">0.3</span>
<span class="nb">contact cmat default</span><span class="n"> model linear type ball</span><span class="o">-</span><span class="n">facet method deformability </span><span class="sx">...</span>
<span class="n">                   emod </span><span class="ni">[materialMod]</span><span class="n"> kratio </span><span class="m m-Double">1.0</span><span class="n"> property fric </span><span class="m m-Double">0.3</span>
<span class="c">;remove all velocities, fix the balls, </span>
<span class="c">;cycle 2 to remove any contact forces that previously existed from </span>
<span class="c">;the simple packing procedure</span>
<span class="nb">model calm</span>
<span class="nb">ball fix</span><span class="n"> velocity spin</span>
<span class="nb">ball attribute</span><span class="n"> force</span><span class="o">-</span><span class="n">contact multiply </span><span class="m m-Double">0.0</span>
<span class="nb">contact property</span><span class="n"> lin_force </span><span class="m m-Double">0</span><span class="n"> </span><span class="m m-Double">0</span><span class="n"> </span><span class="m m-Double">0</span>
<span class="nb">model </span><span class="ss">cycle</span><span class="n"> </span><span class="m m-Double">2</span>
<span class="nb">ball free</span><span class="n"> velocity spin</span>
</pre></div>
</div>
<p>Parallel bonds are installed with the <code class="xref fish fish-cmd docutils literal"><span class="pre">contact</span> <span class="pre">method</span></code> command. In addition, the parallel bond
properties are set with this same command. A contact method is a set of operations that operate to
perform a task on contacts, possibly modifying multiple contact properties. In this case, the
<span class="cmdkey">pb_deform</span> method sets the <span class="cmdkey">pb_kn</span> and <span class="cmdkey">pb_ks</span> properties of the <span class="xref std std-ref">linear
parallel bond</span> contact model. The parallel-bond strength of the ball-ball and
ball-facet contacts are assigned as well. It is important
to note that the ball-facet parallel-bond strengths are set to be very large to ensure that the
balls at the boundary remain bonded to their neighboring zones. Specifying <span class="cmdkey">lin_mode</span> = 1 means
that, for this BPM, all forces are incrementally accumulated; prior to this
command, forces developed as a result of the absolute overlap at ball-ball and ball-facet contacts.
This allows one to produce a BPM quickly without internal stresses. To achieve this, the ball
velocities and spins are nulled and fixed so that no new contact forces will develop for a few cycles.
One must also set the contact force stored in the contact model to 0.
As a result, the BPM is in equilibrium with no internal stresses.</p>
<p>At this point in the modeling process, a stress-free BPM has been created within a cavity in a larger
<span class="codename">FLAC3D</span> model. Some balls are bonded to the wall facets corresponding to the free zone faces. The
forces/moment produced at these contacts are automatically conveyed to the associated zone gridpoints,
allowing for the BPM and continuum models to naturally interact.</p>
<p class="h2 rubric">Results and Discussion</p>
<p>Once cycling commences, the balls begin to displace in response to the pressure applied by the punch.
The punch is indented a specified distance and then the model is solved to a specified average ratio.
<a href="#punch-surf-before">Figure  3</a> and <a href="#punch-xc-before">Figure  4</a> show the surface and
cross-sectional displacements of the balls and zones, respectively. Notice the continuity of
displacements between the BPM and continuum regions. In addition, the displacement field is
symmetric as the BPM is acting similar to a continuum due to the fact that few bonds have broken.
<a href="#con-xc-before">Figure  5</a> shows the locations of the few bonds that have broken to this point in
the simulation.</p>
<div class="figure align-center" id="id3">
<span id="punch-surf-before"></span><a class="reference internal image-reference" href="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-surf.png"><img alt="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-surf.png" src="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-surf.png" style="width: 85%;" /></a>
<p class="caption"><span class="caption-text">Figure 3: Surface displacements of balls and zones prior to massive failure of the BPM.</span></p>
</div>
<div class="figure align-center" id="id4">
<span id="punch-xc-before"></span><a class="reference internal image-reference" href="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-xc.png"><img alt="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-xc.png" src="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-xc.png" style="width: 85%;" /></a>
<p class="caption"><span class="caption-text">Figure 4: Cross section of displacements of balls and zones prior to massive failure of the BPM.</span></p>
</div>
<div class="figure align-center" id="id5">
<span id="con-xc-before"></span><a class="reference internal image-reference" href="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-broken-bonds.png"><img alt="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-broken-bonds.png" src="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-broken-bonds.png" style="width: 85%;" /></a>
<p class="caption"><span class="caption-text">Figure 5: Broken bonds prior to massive failure of the BPM.</span></p>
</div>
<p>Subsequently the punch is depressed an additional distance into the BPM.
<a href="#punch-surf-after">Figure  6</a> and <a href="#punch-xc-after">Figure  7</a> show the surface and
cross-sectional displacements after additional motion of the punch. As compared with the displacements
shown above, continued punch penetration results in significantly less displacement away from the
punch. <a href="#con-xc-after">Figure  8</a> shows the locations of the bonds that have broken with the
additional punch indentation. At this point the bulk BPM has failed with localized bond breakages. As
a result, the balls rearrange and the displacements diminish significantly away from the indentation
site.</p>
<div class="figure align-center" id="id6">
<span id="punch-surf-after"></span><a class="reference internal image-reference" href="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-surf.png"><img alt="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-surf.png" src="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-surf.png" style="width: 85%;" /></a>
<p class="caption"><span class="caption-text">Figure 6: Surface displacements of balls and zones after massive failure of the BPM.</span></p>
</div>
<div class="figure align-center" id="id7">
<span id="punch-xc-after"></span><a class="reference internal image-reference" href="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-xc.png"><img alt="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-xc.png" src="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-xc.png" style="width: 85%;" /></a>
<p class="caption"><span class="caption-text">Figure 7: Cross section of displacements of balls and zones after massive failure of the BPM.</span></p>
</div>
<div class="figure align-center" id="id8">
<span id="con-xc-after"></span><a class="reference internal image-reference" href="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-broken-bonds.png"><img alt="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-broken-bonds.png" src="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-broken-bonds.png" style="width: 85%;" /></a>
<p class="caption"><span class="caption-text">Figure 8: Broken bonds after massive failure of the BPM.</span></p>
</div>
<p>Not only do the displacements change signficantly after failure, the stresses in the punch are
significantly reduced. <a href="#punch-stress-before">Figure  9</a> and <a href="#punch-stress-after">Figure  10</a> show
the measure stress before and after bulk failure, respectively. The BPM is significantly less able
to resist indentation at this point.</p>
<div class="figure align-center" id="id9">
<span id="punch-stress-before"></span><a class="reference internal image-reference" href="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-stress.png"><img alt="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-stress.png" src="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-before-failure-stress.png" style="width: 85%;" /></a>
<p class="caption"><span class="caption-text">Figure 9: Total measure stress before massive failure of the BPM.</span></p>
</div>
<div class="figure align-center" id="id10">
<span id="punch-stress-after"></span><a class="reference internal image-reference" href="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-stress.png"><img alt="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-stress.png" src="wad\wallzone\test3d\ExampleApplications\PunchIndentation\punch-after-failure-stress.png" style="width: 85%;" /></a>
<p class="caption"><span class="caption-text">Figure 10: Total measure stress after massive failure of the BPM.</span></p>
</div>
<p class="h2 rubric" id="punchdata">Data Files</p>
<p>PunchIndentation.dat</p>
<div class="highlight-fish"><div class="highlight"><pre><span></span><span class="c">;-------------------------------------------------------------------</span>
<span class="c">;                Punch Indentation of a Bonded </span>
<span class="c">;                Material</span>
<span class="c">;-------------------------------------------------------------------</span>
<span class="nb">model new</span>
<span class="nb">model title</span><span class="n"> </span><span class="s">&#39;Punch Indentation of a Bonded Material&#39;</span>
<span class="c">;make repeatable by setting the random number seed </span>
<span class="nb">model random</span><span class="n"> </span><span class="m m-Double">10001</span>
<span class="c">;set the model domain for PFC balls and walls</span>
<span class="nb">model domain</span><span class="n"> extent </span><span class="o">-</span><span class="m m-Double">2</span><span class="n"> </span><span class="m m-Double">2</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">2</span><span class="n"> </span><span class="m m-Double">2</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">2.5</span><span class="n"> </span><span class="m m-Double">0</span><span class="n"> condition destroy</span>
<span class="c">;largestrain mode must always be on for coupled simulations</span>
<span class="nb">model large-strain</span><span class="n"> </span><span class="sx">on</span>
<span class="c">;apply timestep scaling so the PFC timestep will be 1</span>
<span class="nb">model mechanical</span><span class="n"> timestep scale</span>

<span class="c">;define the effective modulus of the DEM material - </span>
<span class="c">; use this as the Young&#39;s modulus of the bed of zones as well</span>
<span class="ni">[materialMod </span><span class="p">=</span><span class="ni"> </span><span class="m m-Double">1.0e6</span><span class="ni">]</span>
<span class="c">;define the Young&#39;s modulus of the zones comprising the punch</span>
<span class="ni">[punchYoung </span><span class="p">=</span><span class="ni"> </span><span class="m m-Double">1.0e7</span><span class="ni">]</span>

<span class="c">;create a bed of zones for the balls to sit inside</span>
<span class="nb">zone create</span><span class="n"> brick size </span><span class="m m-Double">35</span><span class="n"> </span><span class="m m-Double">35</span><span class="n"> </span><span class="m m-Double">35</span><span class="n"> point </span><span class="m m-Double">0</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4.5</span><span class="n"> point </span><span class="m m-Double">1</span><span class="n"> </span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4.5</span><span class="n"> </span><span class="sx">...</span>
<span class="n">                                point </span><span class="m m-Double">2</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4.5</span><span class="n"> point </span><span class="m m-Double">3</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1</span><span class="n"> group </span><span class="s">&#39;bed&#39;</span>
<span class="nb">zone cmodel</span><span class="n"> assign elastic</span>
<span class="nb">zone property</span><span class="n"> young </span><span class="ni">[materialMod]</span><span class="n"> poisson </span><span class="m m-Double">0.25</span>
<span class="nb">zone cmodel</span><span class="n"> null </span><span class="sx">...</span>
<span class="n">            range position</span><span class="o">-</span><span class="n">x </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="m m-Double">1.5</span><span class="n"> position</span><span class="o">-</span><span class="n">y </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="m m-Double">1.5</span><span class="n"> position</span><span class="o">-</span><span class="n">z </span><span class="o">-</span><span class="m m-Double">2</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1</span>
<span class="c">;as the balls are packing into this region - </span>
<span class="c">;fix the gridpoint motions as the balls are settling</span>
<span class="nb">zone gridpoint fix</span><span class="n"> velocity</span>

<span class="c">;wrap the bed with walls</span>
<span class="nb">wall-zone create</span><span class="n"> name </span><span class="s">&#39;bed&#39;</span><span class="n"> starting</span><span class="o">-</span><span class="n">zone </span><span class="m m-Double">30013</span>
<span class="c">;create a wall over the top </span>
<span class="nb">wall generate</span><span class="n"> name </span><span class="s">&#39;top&#39;</span><span class="n"> plane position </span><span class="m m-Double">0</span><span class="n"> </span><span class="m m-Double">0</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1</span><span class="n"> </span>

<span class="c">;create a cloud of balls that are arbitrarily overlapping  </span>
<span class="nb">ball distribute</span><span class="n"> porosity </span><span class="m m-Double">0.4</span><span class="n"> box </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="m m-Double">1.5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="m m-Double">1.5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">2</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1</span><span class="n"> radius </span><span class="m m-Double">0.04</span><span class="n"> </span><span class="m m-Double">0.06</span>

<span class="c">;set the ball density and local damping coefficient</span>
<span class="nb">ball attribute</span><span class="n"> density </span><span class="m m-Double">2600</span><span class="n"> damp </span><span class="m m-Double">0.7</span>
<span class="c">;set the default contact behavior - </span>
<span class="c">;the deformability method sets properties of the linear portion </span>
<span class="c">;of the contact model</span>
<span class="nb">contact cmat default</span><span class="n"> model linearpbond method deformability </span><span class="sx">...</span>
<span class="n">                   emod </span><span class="ni">[materialMod]</span><span class="n"> kratio </span><span class="m m-Double">1.0</span><span class="n"> </span>
<span class="c">;allow the balls to rearrange, nulling the linear </span>
<span class="c">;and angular velocities every 100 cycles</span>
<span class="nb">model </span><span class="ss">cycle</span><span class="n"> </span><span class="m m-Double">1000</span><span class="n"> calm </span><span class="m m-Double">100</span>
<span class="c">;delete any balls that flew out of the bed</span>
<span class="nb">ball delete</span><span class="n"> range position </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1.5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">2</span><span class="n">  </span><span class="m m-Double">1.5</span><span class="n"> </span><span class="m m-Double">1.5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">1</span><span class="n"> not</span>

<span class="c">;bond the balls together with the specified gap</span>
<span class="nb">contact method</span><span class="n"> bond gap </span><span class="m m-Double">2.0e-3</span>
<span class="c">;set the parallel bond properties from the pb_deform method</span>
<span class="nb">contact method</span><span class="n"> pb_deform emod </span><span class="ni">[materialMod]</span><span class="n"> kratio </span><span class="m m-Double">1.0</span>
<span class="c">;remove the linear portion of the contact properties</span>
<span class="c">;and set the contact strength</span>
<span class="c">;this will be a relatively weak material</span>
<span class="nb">contact property</span><span class="n"> lin_mode </span><span class="m m-Double">1</span><span class="n"> pb_ten </span><span class="m m-Double">2e4</span><span class="n"> pb_coh </span><span class="m m-Double">2e5</span><span class="n"> </span><span class="sx">...</span>
<span class="n">        range contact type </span><span class="s">&#39;ball-ball&#39;</span>
<span class="c">;set the ball-facet contact strength to be very high</span>
<span class="nb">contact property</span><span class="n"> lin_mode </span><span class="m m-Double">1</span><span class="n"> pb_ten </span><span class="m m-Double">1e100</span><span class="n"> pb_coh </span><span class="m m-Double">1e100</span><span class="n"> </span><span class="sx">...</span>
<span class="n">        range contact type </span><span class="s">&#39;ball-facet&#39;</span>
<span class="c">;remove the box</span>
<span class="nb">wall delete</span><span class="n"> wall range name </span><span class="s">&#39;top&#39;</span>
<span class="c">;set the default behavior for new ball-ball and ball-facet contacts</span>
<span class="nb">contact cmat default</span><span class="n"> model linear type ball</span><span class="o">-</span><span class="n">ball method deformability </span><span class="sx">...</span>
<span class="n">                   emod </span><span class="ni">[materialMod]</span><span class="n"> kratio </span><span class="m m-Double">1.0</span><span class="n"> property fric </span><span class="m m-Double">0.3</span>
<span class="nb">contact cmat default</span><span class="n"> model linear type ball</span><span class="o">-</span><span class="n">facet method deformability </span><span class="sx">...</span>
<span class="n">                   emod </span><span class="ni">[materialMod]</span><span class="n"> kratio </span><span class="m m-Double">1.0</span><span class="n"> property fric </span><span class="m m-Double">0.3</span>
<span class="c">;remove all velocities, fix the balls, </span>
<span class="c">;cycle 2 to remove any contact forces that previously existed from </span>
<span class="c">;the simple packing procedure</span>
<span class="nb">model calm</span>
<span class="nb">ball fix</span><span class="n"> velocity spin</span>
<span class="nb">ball attribute</span><span class="n"> force</span><span class="o">-</span><span class="n">contact multiply </span><span class="m m-Double">0.0</span>
<span class="nb">contact property</span><span class="n"> lin_force </span><span class="m m-Double">0</span><span class="n"> </span><span class="m m-Double">0</span><span class="n"> </span><span class="m m-Double">0</span>
<span class="nb">model </span><span class="ss">cycle</span><span class="n"> </span><span class="m m-Double">2</span>
<span class="nb">ball free</span><span class="n"> velocity spin</span>
<span class="c">;fix the z- velocity of zones at the bottom of the model</span>
<span class="nb">zone gridpoint free</span><span class="n"> velocity</span>
<span class="nb">zone gridpoint fix</span><span class="n"> velocity</span><span class="o">-</span><span class="n">z range position</span><span class="o">-</span><span class="n">z </span><span class="o">-</span><span class="m m-Double">5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">4.4</span>
<span class="c">;reset the ball displacement</span>
<span class="nb">ball attribute</span><span class="n"> displacement multiply </span><span class="m m-Double">0.0</span>
<span class="nb">model save</span><span class="n"> </span><span class="s">&#39;withoutPunch&#39;</span>

<span class="c">;create the rounded punch and assign properties to it</span>
<span class="nb">zone create</span><span class="n"> cylinder point </span><span class="m m-Double">0</span><span class="n"> </span><span class="m m-Double">0</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">0.5</span><span class="n"> </span><span class="m m-Double">0</span><span class="n"> </span><span class="sx">...</span>
<span class="n">                  point </span><span class="m m-Double">1</span><span class="n"> </span><span class="ni">[</span><span class="o">-</span><span class="k">math.sqrt</span><span class="p">(</span><span class="m m-Double">2.0</span><span class="p">)</span><span class="o">/</span><span class="m m-Double">2.0</span><span class="ni">]</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">0.5</span><span class="n"> </span><span class="ni">[</span><span class="o">-</span><span class="k">math.sqrt</span><span class="p">(</span><span class="m m-Double">2.0</span><span class="p">)</span><span class="o">/</span><span class="m m-Double">2.0</span><span class="ni">]</span><span class="n"> </span><span class="sx">...</span>
<span class="n">                  point </span><span class="m m-Double">2</span><span class="n"> </span><span class="m m-Double">0</span><span class="n"> </span><span class="m m-Double">0.5</span><span class="n"> </span><span class="m m-Double">0</span><span class="n"> </span><span class="sx">...</span>
<span class="n">                  point </span><span class="m m-Double">3</span><span class="n"> </span><span class="ni">[</span><span class="k">math.sqrt</span><span class="p">(</span><span class="m m-Double">2.0</span><span class="p">)</span><span class="o">/</span><span class="m m-Double">2.0</span><span class="ni">]</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">0.5</span><span class="n"> </span><span class="ni">[</span><span class="o">-</span><span class="k">math.sqrt</span><span class="p">(</span><span class="m m-Double">2.0</span><span class="p">)</span><span class="o">/</span><span class="m m-Double">2.0</span><span class="ni">]</span><span class="n"> </span><span class="sx">...</span>
<span class="n">                  size </span><span class="m m-Double">5</span><span class="n"> </span><span class="m m-Double">5</span><span class="n"> </span><span class="m m-Double">5</span><span class="n"> group </span><span class="s">&#39;punch&#39;</span>
<span class="nb">zone cmodel</span><span class="n"> assign elastic range group </span><span class="s">&#39;punch&#39;</span>
<span class="nb">zone property</span><span class="n"> young </span><span class="ni">[punchYoung]</span><span class="n"> poisson </span><span class="m m-Double">0.25</span><span class="n"> range group </span><span class="s">&#39;punch&#39;</span>
<span class="c">;wrap the punch with walls</span>
<span class="nb">wall-zone create</span><span class="n"> range group </span><span class="s">&#39;punch&#39;</span>
<span class="c">;assign a group the gridpoints on the top of the punch and fix the z- velocity</span>
<span class="nb">zone gridpoint group</span><span class="n"> </span><span class="s">&quot;fixed&quot;</span><span class="n"> range position</span><span class="o">-</span><span class="n">z </span><span class="o">-</span><span class="m m-Double">0.4</span><span class="n"> </span><span class="m m-Double">1</span>
<span class="nb">zone gridpoint fix</span><span class="n"> velocity</span><span class="o">-</span><span class="n">z </span><span class="o">-</span><span class="m m-Double">.0001</span><span class="n"> range group </span><span class="s">&quot;fixed&quot;</span>
<span class="nb">model save</span><span class="n"> </span><span class="s">&#39;withPunch&#39;</span>

<span class="c">;push the punch into the balls with just minimal failure of the material</span>
<span class="nb">model </span><span class="ss">cycle</span><span class="n"> </span><span class="m m-Double">1000</span>
<span class="nb">zone gridpoint fix</span><span class="n"> velocity</span><span class="o">-</span><span class="n">z </span><span class="m m-Double">0.0</span><span class="n"> range group </span><span class="s">&quot;fixed&quot;</span>
<span class="c">;solve to an equilibrium state to show the current displacements</span>
<span class="nb">model </span><span class="ss">solve</span><span class="n"> ratio</span><span class="o">-</span><span class="n">average </span><span class="m m-Double">1.0e-4</span><span class="n"> </span>
<span class="nb">model save</span><span class="n"> </span><span class="s">&#39;beforeFailure&#39;</span>

<span class="c">;push the punch in and watch the zone displacement</span>
<span class="c">;diminish after the onset of failure</span>
<span class="nb">zone gridpoint fix</span><span class="n"> velocity</span><span class="o">-</span><span class="n">z </span><span class="o">-</span><span class="m m-Double">.0001</span><span class="n"> range group </span><span class="s">&quot;fixed&quot;</span>
<span class="nb">model </span><span class="ss">cycle</span><span class="n"> </span><span class="m m-Double">1000</span>
<span class="nb">zone gridpoint fix</span><span class="n"> velocity</span><span class="o">-</span><span class="n">z </span><span class="m m-Double">0.0</span><span class="n"> range group </span><span class="s">&quot;fixed&quot;</span>
<span class="c">;failure will continue and the granular specimen will rearrange,</span>
<span class="c">;reducing the displacements</span>
<span class="nb">model </span><span class="ss">solve</span><span class="n"> ratio</span><span class="o">-</span><span class="n">average </span><span class="m m-Double">1.0e-3</span><span class="n"> </span>
<span class="nb">model save</span><span class="n"> </span><span class="s">&#39;afterFailure&#39;</span>
</pre></div>
</div>
</div>


   </div>
   <div id="navbutton">&#8644;</div>
   <!-- <div id="navbutton">&#9776;</div>
        <div id="totopbutton">&#8657;</div> -->
      <div id="mainbottom1">
      
   <span class="prevnext">
   <ul>
     <li class="nav-item nav-item-0"><a href="../../../../../contents.html">UDEC 7.0 documentation</a> &#187;</li> 
   </ul>
   </span>
      <br><br>
       <span class="prevnext">
       </span>
      </div>
      <div id="mainbottom2">
      <table style="width: 100%; text-align: center; margin-top: -0.5em;" class="blank"><tr>
      <td><a class="internal reference" href ="http://www.itascacg.com/docs/helpfeedback/feedback2.php?UDEC 7.0?Punch Indentation of a Bonded Material" target="_blank" id="wth"> Was this helpful? ...</a></td>
      <td><a id="codeid" href="https://www.itascacg.com/software/udec">UDEC</a>
         <a href="../../../../../common/docproject/utilities/icgsphinxhelp/icgsphinxhelp.html" id="docdoor">&copy;</a>  2018, 
      <a href="https://www.itascacg.com">Itasca</a></td>
      <td>
         Updated: Mar 15, 2024
      </td>
      </tr>
      </table>
      </div>

   </div>
</div> 
   <div id="mySidenav" class="sidenav">
     <iframe src="../../../../../navtree.html" id="toctobj2" frameborder="0"></iframe>
   </div>



  <script src="../../../../../_static/icgscripts.js" ></script>
  </body>
</html>