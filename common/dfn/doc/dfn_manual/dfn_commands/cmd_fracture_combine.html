


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>fracture combine command &#8212; UDEC 7.0 documentation</title>
    
    <link rel="stylesheet" href="../../../../../_static/itasca.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css"/>
    
    <!-- icg: hide sidebar on load as needed -->
    <script type="text/javascript">
    (function () {
    if (window.innerWidth <= 720){
       document.write('<link rel="stylesheet" href="../../../../../_static/icg_shutsidebar.css" type="text/css" />')
       }
    }());
    </script>
    
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../../_static/MathJax/MathJax.js?config=TeX-AMS_SVG"></script>
    <link rel="shortcut icon" href="../../../../../_static/ICG15-ICN-UDEC.ico"/>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="fracture compute command" href="cmd_fracture_compute.html" />
    <link rel="prev" title="fracture cluster command" href="cmd_fracture_cluster.html" />
    <!--<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:normal,bold,bolditalic,italic" rel="stylesheet">-->
    <link href="https://fonts.googleapis.com/css?family=Lato:normal,bold,bolditalic,italic" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:normal,bold" rel="stylesheet"> 
  </head>
  <body>
<div id = "main">
   <div id="maintop">
   <a id="cornerlink" href="../../../../../contents.html"><img id="cornerlogo" src="../../../../../_static/udec32.png" alt="Logo"/>&nbsp;&nbsp;<span class="codename" id="cornercodename"></span></a>

<div id="searchbox" role="search">
    <form class="search" action="../../../../../search.html" method="get">
      <div><input type="text" id="sb" name="q" /></div>
      <!--<div><input type="submit" value="Go" /></div>-->
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
   </div>
   
   <div id="maincontent">
   <div id="mainbody" role="main">
   
  <div class="section" id="fracture-combine-command">
<h1><code class="docutils literal"><span class="pre">fracture</span> <span class="pre">combine</span></code> command</h1>
<p class="h2 rubric">Syntax</p>
<dl class="dfn command">
<dt id="command:fracture.combine">
<span class="cmdname"><span class="pref">f</span><span class="pref">r</span><span class="pref">a</span><span class="pref">c</span><span class="null">t</span><span class="null">u</span><span class="null">r</span><span class="null">e</span><span class="null"> </span></span><span class="cmdname"><span class="pref">c</span><span class="pref">o</span><span class="pref">m</span><span class="null">b</span><span class="null">i</span><span class="null">n</span><span class="null">e</span><span class="null"> </span></span><span class="cmdkey"><span class="null">k</span><span class="null">e</span><span class="null">y</span><span class="null">w</span><span class="null">o</span><span class="null">r</span><span class="null">d</span><span class="null"> </span></span><span class="cmdkey"><span class="null">.</span><span class="null">.</span><span class="null">.</span><span class="null"> </span></span><span class="cmdopt"><<a class="reference internal" href="../../../../module/doc/manual/range_manual/range_commands/rangephrasereference.html" title="range"><span class="token"><span class="pref">r</span><span class="pref">a</span><span class="pref">n</span><span class="null">g</span><span class="null">e</span></span></a>></span><span class="null"> </span></dt>
<dd><div class="admonition-primary-keywords admonition">
<p class="first admonition-title">Primary keywords:</p>
<p class="last"><a class="reference internal" href="#kwd:fracture.combine.angle" title="fracture combine angle">angle</a>&nbsp;&nbsp;&nbsp; <a class="reference internal" href="#kwd:fracture.combine.collapse" title="fracture combine collapse">collapse</a>&nbsp;&nbsp;&nbsp; <a class="reference internal" href="#kwd:fracture.combine.distance" title="fracture combine distance">distance</a>&nbsp;&nbsp;&nbsp; <a class="reference internal" href="#kwd:fracture.combine.merge" title="fracture combine merge">merge</a></p>
</div>
<p>Simplify fractures. Fractures are sorted by decreasing size and, starting with the
largest fracture (termed the reference fracture), the algorithm determines smaller fractures in
which the following 2 criteria are met:</p>
<ul class="simple">
<li>The difference between the reference fracture and fracture orientations is smaller than a given
angle (provided by the <span class="cmdkey">angle</span> keyword).</li>
<li>The distance between fractures (as determined by the distance between the smallest fracture
center and the largest fracture plane) is less than a specified distance (provided by the
<span class="cmdkey">distance</span> keyword).</li>
</ul>
<div class="aside admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Using the <span class="cmdkey">merge</span> keyword can significantly change the fracture density. Use this keyword with caution.</li>
<li>All intersections are deleted when the <a class="reference internal" href="#command:fracture.combine" title="Simplify fractures. Fractures are sorted by decreasing size and, starting with&#013;&#010;the"><code class="xref fish fish-cmd docutils literal"><span class="pre">fracture</span> <span class="pre">combine</span></code></a> command is used.</li>
</ul>
</div>
<p>When these criteria are met, smaller fractures are rotated to have the same orientation as the
reference fracture. The algorithm continues by switching the reference fracture to the next
largest fracture that has not been previously rotated. If the <span class="cmdkey">merge</span> keyword is given, the fractures that are coplanar are translated onto the reference fracture plane if they would
overlap. If a fracture falls completely within a larger fracture, it is removed; otherwise, the
surface of the largest fracture is increased so that it is equal to the sum of the surface of the two merged fractures.</p>
<dl class="keyword">
<dt id="kwd:fracture.combine.angle">
<span class="cmdkey"><span class="pref">a</span><span class="null">n</span><span class="null">g</span><span class="null">l</span><span class="null">e</span><span class="null"> </span></span><a class="reference internal" href="../../../../docproject/utilities/types.html#type:flt" title="A real number ( f ), positive or negative. It may be written in scientific&#013;&#010;e notation. Multiple instances in a command are numbered ( f1   f2 &#013;&#010; f3  etc.)."><span class="varfloat"><span class="null">f</span><span class="null"> </span></span></a></dt>
<dd><p>Angle criterion for fracture proximity identification with <a class="reference internal" href="../../../../docproject/utilities/types.html#type:flt" title="A real number ( f ), positive or negative. It may be written in scientific&#013;&#010;e notation. Multiple instances in a command are numbered ( f1   f2 &#013;&#010; f3  etc.)."><span class="varfloat"><span class="null">f</span></span></a> ≥ 0.</p>
</dd></dl>

<dl class="keyword">
<dt id="kwd:fracture.combine.collapse">
<span class="cmdkey"><span class="pref">c</span><span class="null">o</span><span class="null">l</span><span class="null">l</span><span class="null">a</span><span class="null">p</span><span class="null">s</span><span class="null">e</span><span class="null"> </span></span></dt>
<dd><p>Collapse rotated fractures onto the reference fracture plane. Fractures are not merged by default.</p>
<dl class="keyword">
<dt id="kwd:fracture.combine.collapse.merge-convex">
<span class="cmdkey"><span class="pref">m</span><span class="null">e</span><span class="null">r</span><span class="null">g</span><span class="null">e</span><span class="null">-</span><span class="pref">c</span><span class="null">o</span><span class="null">n</span><span class="null">v</span><span class="null">e</span><span class="null">x</span><span class="null"> </span></span><span class="cmdopt"><<span class="cmdkey"><span class="pref">i</span><span class="null">t</span><span class="null">e</span><span class="null">r</span><span class="null">a</span><span class="null">t</span><span class="null">i</span><span class="null">o</span><span class="null">n</span><span class="null">s</span><span class="null"> </span></span><a class="reference internal" href="../../../../docproject/utilities/types.html#type:int" title="An integer ( i ), positive or negative. An integer *cannot* contain a&#013;&#010;decimal.  Multiple instances in a command are numbered ( i1   i2 &#013;&#010; i3  etc.)."><span class="varint"><span class="null">i</span><span class="null"> </span></span></a>></span><span class="null"> </span><span class="cmdextra">(<span class="cmdextraparam">3D<span class="null"> </span></span><span class="cmdextraparam">ONLY</span>)</span><span class="null"> </span></dt>
<dd><p>Merge the collapsed fractures into planar convex fractures. This operation happens after all fractures have been collapsed. Collapsed fractures that are within the distance specified with the <span class="cmdkey">distance</span> keyword are removed and the convex hull of these fractures is created. This is an iterative operation that, by default, continues until no fractures can be merged unless the <span class="cmdkey">iterations</span> keyword is given.</p>
</dd></dl>

</dd></dl>

<dl class="keyword">
<dt id="kwd:fracture.combine.distance">
<span class="cmdkey"><span class="pref">d</span><span class="null">i</span><span class="null">s</span><span class="null">t</span><span class="null">a</span><span class="null">n</span><span class="null">c</span><span class="null">e</span><span class="null"> </span></span><a class="reference internal" href="../../../../docproject/utilities/types.html#type:flt" title="A real number ( f ), positive or negative. It may be written in scientific&#013;&#010;e notation. Multiple instances in a command are numbered ( f1   f2 &#013;&#010; f3  etc.)."><span class="varfloat"><span class="null">f</span><span class="null"> </span></span></a></dt>
<dd><p>Distance criterion for fracture proximity identification with <a class="reference internal" href="../../../../docproject/utilities/types.html#type:flt" title="A real number ( f ), positive or negative. It may be written in scientific&#013;&#010;e notation. Multiple instances in a command are numbered ( f1   f2 &#013;&#010; f3  etc.)."><span class="varfloat"><span class="null">f</span></span></a> ≥ 0.</p>
</dd></dl>

<dl class="keyword">
<dt id="kwd:fracture.combine.merge">
<span class="cmdkey"><span class="pref">m</span><span class="null">e</span><span class="null">r</span><span class="null">g</span><span class="null">e</span><span class="null"> </span></span></dt>
<dd><p>Merge fractures that would overlap the reference fractures if they were collapsed onto the
reference fracture plane. If a fracture falls completely within a larger fracture, it is
removed.</p>
</dd></dl>

</dd></dl>

<p class="h2 rubric">Usage Example</p>
<p>The following example illustrates how the <a class="reference internal" href="#command:fracture.combine" title="Simplify fractures. Fractures are sorted by decreasing size and, starting with&#013;&#010;the"><code class="xref fish fish-cmd docutils literal"><span class="pre">fracture</span> <span class="pre">combine</span></code></a> command can be used to reduce the number of fractures in a
fracture set with close orientations (3D). After having generated a DFN, it proceeds in two steps:</p>
<ul class="simple">
<li>first, fractures with the closest orientation (solid angle between them smaller than 20°) are merged;</li>
<li>second, fractures with a more flexible orientation criterion (solid angle between them smaller than 50°) are projected on the same plane but not merged.</li>
</ul>
<p>The initial DFN is thus “simplified,” and there are no small angles between fractures, which can help for further mesh.</p>
<p>The example in 3D:</p>
<div class="highlight-fish"><div class="highlight"><pre><span></span><span class="nb">model new</span>
<span class="nb">model random</span><span class="n"> </span><span class="m m-Double">10000</span>
<span class="nb">model domain</span><span class="n"> extent </span><span class="o">-</span><span class="m m-Double">5</span><span class="n"> </span><span class="m m-Double">5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">5</span><span class="n"> </span><span class="m m-Double">5</span><span class="n"> </span><span class="o">-</span><span class="m m-Double">5</span><span class="n"> </span><span class="m m-Double">5</span><span class="n"> </span>
<span class="c">;Create a template</span>
<span class="nb">fracture template</span><span class="n"> create </span><span class="s">&#39;example&#39;</span><span class="n"> orientation fisher </span><span class="m m-Double">50</span><span class="n"> </span><span class="m m-Double">150</span><span class="n"> </span><span class="m m-Double">10</span>
<span class="c">;Generate fractures using the template</span>
<span class="nb">fracture generate</span><span class="n"> template </span><span class="s">&#39;example&#39;</span><span class="n"> fracture</span><span class="o">-</span><span class="n">count </span><span class="m m-Double">400</span>
<span class="c">;Combine fractures based on angle and distance, merging </span>
<span class="nb">fracture combine</span><span class="n"> angle </span><span class="m m-Double">20</span><span class="n"> distance </span><span class="m m-Double">0.5</span><span class="n"> merge</span>
<span class="c">;Combine fractures based on angle and distance, collapse</span>
<span class="nb">fracture combine</span><span class="n"> angle </span><span class="m m-Double">50</span><span class="n"> distance </span><span class="m m-Double">0.5</span><span class="n"> collapse</span>
<span class="nb">program </span><span class="se">return</span><span class="n"> </span>
</pre></div>
</div>
</div>


   </div>
   <div id="navbutton">&#8644;</div>
   <!-- <div id="navbutton">&#9776;</div>
        <div id="totopbutton">&#8657;</div> -->
      <div id="mainbottom1">
      
   <span class="prevnext">
   <ul>
     <li class="nav-item nav-item-0"><a href="../../../../../contents.html">UDEC 7.0 documentation</a> &#187;</li>
       <li class="nav-item nav-item-1"><a href="../../../../docproject/source/manual/program_guide/program_guide.html" >Program Guide</a> &#187;</li>
       <li class="nav-item nav-item-2"><a href="../../../../docproject/source/manual/program_guide/general_components.html" >Common Model Objects</a> &#187;</li>
       <li class="nav-item nav-item-3"><a href="../dfn.html" >Discrete Fracture Network (DFN)</a> &#187;</li>
       <li class="nav-item nav-item-4"><a href="dfn_commands.html" accesskey="U">Commands</a> &#187;</li> 
   </ul>
   </span>
      <br><br>
       <span class="prevnext">
       &#8656;<a href="cmd_fracture_cluster.html"
                           title="previous chapter"> <code class="docutils literal"><span class="pre">fracture</span> <span class="pre">cluster</span></code> command</a> |    
       <a href="cmd_fracture_compute.html"
                           title="next chapter"><code class="docutils literal"><span class="pre">fracture</span> <span class="pre">compute</span></code> command</a> &#8658;
       </span>
      </div>
      <div id="mainbottom2">
      <table style="width: 100%; text-align: center; margin-top: -0.5em;" class="blank"><tr>
      <td><a class="internal reference" href ="http://www.itascacg.com/docs/helpfeedback/feedback2.php?UDEC 7.0?fracture combine command" target="_blank" id="wth"> Was this helpful? ...</a></td>
      <td><a id="codeid" href="https://www.itascacg.com/software/udec">UDEC</a>
         <a href="../../../../docproject/utilities/icgsphinxhelp/icgsphinxhelp.html" id="docdoor">&copy;</a>  2018, 
      <a href="https://www.itascacg.com">Itasca</a></td>
      <td>
         Updated: Mar 15, 2024
      </td>
      </tr>
      </table>
      </div>

   </div>
</div> 
   <div id="mySidenav" class="sidenav">
     <iframe src="../../../../../navtree.html" id="toctobj2" frameborder="0"></iframe>
   </div>



  <script src="../../../../../_static/icgscripts.js" ></script>
  </body>
</html>